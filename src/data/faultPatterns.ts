// 고장 패턴 사전
export interface FaultPattern {
  원인: string[]
  증상: string[]
  조치: string[]
  주의: string
}

export const FAULT_PATTERNS: Record<string, FaultPattern> = {
  "저압 낮음 + 고압 낮음": {
    원인: ["냉매 부족 (누설)", "압축기 흡입 밸브 불량"],
    증상: ["액면계 거품", "냉각 불량", "압축기 과열"],
    조치: [
      "1. 누설 점검 (비눗물/리크 디텍터)",
      "2. 누설 발견 시 수리 후 진공 작업",
      "3. 정량 충전 (명판 확인)"
    ],
    주의: "운전 중 충전 시 액관으로 천천히 투입"
  },
  "저압 낮음 + 고압 정상": {
    원인: ["팽창밸브 막힘", "드라이어 막힘", "증발기 성에 과다"],
    증상: ["팽창밸브 출구 성에", "드라이어 온도차", "풍량 부족"],
    조치: [
      "1. 드라이어 입출구 온도 측정 (5°C↑ 시 교체)",
      "2. 팽창밸브 감온통 접촉 확인",
      "3. 증발기 제상, 필터 청소"
    ],
    주의: "막힘 부위 특정 후 부품 교체"
  },
  "저압 높음 + 고압 높음": {
    원인: ["응축기 방열 불량", "냉매 과충전", "불응축 가스 혼입"],
    증상: ["고압 상승", "압축기 과부하", "전류 증가"],
    조치: [
      "1. 응축기 코일 청소",
      "2. 응축기 팬 모터 점검",
      "3. 주변 통풍 확보 (50cm 이상)"
    ],
    주의: "과충전 시 고압 측에서 소량씩 회수"
  },
  "저압 높음 + 고압 낮음": {
    원인: ["압축기 밸브 파손", "압축기 내부 누설", "가스켓 불량"],
    증상: ["압축 불량", "전류 낮음", "토출 온도 낮음"],
    조치: [
      "1. 압축기 전류 측정 (정격 대비)",
      "2. 토출/흡입 온도차 확인",
      "3. 압축기 교체 검토"
    ],
    주의: "압축기 교체 시 오일량/종류 확인"
  },
  "과열도 부족 (3°C 미만)": {
    원인: ["냉매 과충전", "팽창밸브 과개방", "증발 부하 과다"],
    증상: ["흡입관 결로/성에", "압축기 소음", "액압축 위험"],
    조치: [
      "1. TXV 시계방향 1/4회전 조정",
      "2. 냉매량 확인 (과충전 시 회수)",
      "3. 부하 확인 (문 개폐, 제품량)"
    ],
    주의: "⚠️ 액압축 시 압축기 즉시 손상 - 신속 조치!"
  },
  "과열도 과다 (15°C 초과)": {
    원인: ["냉매 부족", "팽창밸브 막힘", "감온통 접촉 불량"],
    증상: ["냉각 불량", "토출 온도 상승", "압축기 과열"],
    조치: [
      "1. 냉매량 확인 및 보충",
      "2. TXV 반시계방향 1/4회전 조정",
      "3. 감온통 밀착 및 단열"
    ],
    주의: "토출 온도 130°C 이상 시 오일 열화 위험"
  },
  "헌팅 (바늘 흔들림)": {
    원인: ["TXV 감온통 접촉 불량", "과열도 설정 부적절", "부하 급변"],
    증상: ["저압 게이지 바늘 진동", "온도 불안정"],
    조치: [
      "1. 감온통 12시~3시 위치 고정",
      "2. 감온통 단열 테이프 보강",
      "3. 외부 균압관 막힘 확인"
    ],
    주의: "감온통은 액관/토출관과 이격"
  },
  "압축기 이상 소음": {
    원인: ["액압축", "베어링 마모", "밸브 파손", "오일 부족"],
    증상: ["금속성 소음", "진동 증가", "전류 불안정"],
    조치: [
      "1. ⚠️ 즉시 운전 정지",
      "2. 과열도 확인 (액압축 여부)",
      "3. 오일 레벨 확인",
      "4. 전문가 점검 요청"
    ],
    주의: "⚠️ 계속 운전 시 압축기 완파 - 즉시 정지!"
  }
}
